---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

## Setup    
  Load the relevant libraries.
```{r message=TRUE, warning=TRUE}

# rm(list = ls())
# .rs.restartR()


# data munging
library("tidyverse")
library("data.table")

# munge dates
library("lubridate")

# get tweets
# library("rtweet")

# NLP
# library("tidytext")
# library("syuzhet")
# library("googleLanguageR")

# graph analyses
# library("tidygraph")
# library("ggraph")

# # feature engineering and data prep
# library("recipes")
# library("caret")
# library("DMwR")
# 
# # to explore missing data
# library("visdat")
# library("naniar")
# 
# # modeling
# library("h2o")

```
  
    
  Session Info.
```{r}

sessionInfo()

```


  Setup the root directory.
```{r "setup", include = FALSE}

require("knitr")

# Use when running from AWS
# opts_knit$set(root.dir = "/home/rstudio/Dropbox/_AWS/twitter_dc_metro2/")

# Use when running from laptop
opts_knit$set(root.dir = "/Users/mdturse/Desktop/Analytics/ashrae_energy_prediction/")

```
  
    
  Setting `wd` as the working directory.
```{r}

wd <- getwd()

wd

```


## Get the data  

```{r}

file_names <-
  list.files(path = paste0(wd,
                           "/Data/Raw"
                           )
             )

files_list <-
  file_names %>% 
  map(~read_csv(file = paste0(wd,
                              "/Data/Raw/",
                              .x
                              )
                )
      )

names(files_list) <- file_names

glimpse(files_list)

```



```{r}

files_list$train.csv %>% 
  count(building_id,
        meter,
        # timestamp
        )

files_list$train.csv %>% 
  filter(meter_reading > 0) %>% 
  count(building_id,
        meter,
        # timestamp
        )

```

